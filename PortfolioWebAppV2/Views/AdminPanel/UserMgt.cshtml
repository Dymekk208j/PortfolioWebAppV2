@model PortfolioWebAppV2.Models.ViewModels.UsersManagementViewModel
@{
    Layout = "~/Views/Shared/_AdminPanelLayout.cshtml";
}

@section Header{ Lista użytkowników }
<script>
    function NextPage() {

        $.ajax({
            url: '@Url.Action("UserMgt", "AdminPanel")' ,
            type: 'GET',
            contentType: 'application/json; charset=utf-8',
            data: { 'Page': document.getElementById('Page').value + 1 },
            success: function(result) {
                $('#UserList').html(result);
                document.getElementById('Page').value = parseInt(document.getElementById('Page').value) + 1;
            }

            });
        return false;
    }

    function PreviousPage() {
        $.ajax({
            url: '@Url.Action("UserMgt", "AdminPanel")' ,
            type: 'GET',
            contentType: 'application/json; charset=utf-8',
            data: { 'Page': document.getElementById('Page').value - 1 },
            success: function(result) {
                $('#UserList').html(result);
                document.getElementById('Page').value = parseInt(document.getElementById('Page').value) - 1;
            }
        });
        return false;
    }
</script>

@Html.HiddenFor( a => a.Page)

<div id="UserList">
    @Html.Partial("_UserListPartialView", Model.Users)
</div>


<div class="col">

    <button href="#" onclick="PreviousPage()" class="btn btn-primary btn-sm mb-1" id="btn_prev" style="margin-left: 0.5em;">Poprzednia strona</button>
    <button href="#" onclick="NextPage()" class="btn btn-primary btn-sm mb-1" id="btn_mext" style="margin-left: 0.5em;">Następna strona</button>


</div>

<script src="~/Scripts/jquery.unobtrusive-ajax.js"></script>